<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
	<meta name="generator" content="Hugo 0.88.1">
	<title>Productos</title>

	<!-- Bootstrap core CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" th:href="@{/css/calculadora.css}">

	<!-- DataTables -->
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css">

	<!-- Favicons -->
	<link rel="apple-touch-icon" href="/docs/5.1/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
	<link rel="icon" href="/docs/5.1/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
	<link rel="icon" href="/docs/5.1/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
	<link rel="manifest" href="/docs/5.1/assets/img/favicons/manifest.json">
	<link rel="mask-icon" href="/docs/5.1/assets/img/favicons/safari-pinned-tab.svg" color="#7952b3">
	<link rel="icon" href="/docs/5.1/assets/img/favicons/favicon.ico">
	<meta name="theme-color" content="#7952b3">


	<style>
		.bd-placeholder-img {
			font-size: 1.125rem;
			text-anchor: middle;
			-webkit-user-select: none;
			-moz-user-select: none;
			user-select: none;
		}

		@media (min-width : 768px) {
			.bd-placeholder-img-lg {
				font-size: 3.5rem;
			}
		}
	</style>


</head>

<body>

	<main>
		<div class="container py-4">
			<header class="pb-3 mb-4 border-bottom">
				<a href="/" class="d-flex align-items-center text-dark text-decoration-none">
					<span class="fs-4">Trader Online</span>
				</a>
			</header>

			<div class="p-5 mb-4 bg-light rounded-3">
				<div class="container-fluid py-5">
					<h1 class="display-5 fw-bold">Mercado</h1>
					<table id="table_id" class="display">
						<thead>
							<tr>
								<th>Nombre entidad</th>
								<th>Cantidad</th>
								<th>Precio</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="product : ${products}">
								<td th:text="${product.name}"></td>
								<td th:text="${product.cuantity}"></td>
								<td th:text="${product.price}"></td>
								<td>
									<a class="btn btn-secondary" th:onclick="prueba([[${product.id}]],[[${product.userId}]]);">Comprar</a>
									<input th:id="numberQuantity + ${product.id}" type="number" min="0">
								</td>	
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<footer class="pt-3 mt-4 text-muted border-top">
				&copy; 2021
			</footer>
		</div>
	</main>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script type="text/javascript" charset="utf8"
		src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js"></script>

	<script type="text/javascript">
		$(document).ready(function () {
			$('#table_id').DataTable({
				"language": {
					"decimal": "",
					"emptyTable": "No hay datos en la tabla",
					"info": "Mostrando _START_ de _TOTAL_ páginas",
					"infoEmpty": "Showing 0 to 0 of 0 entries",
					"infoFiltered": "(filtered from _MAX_ total entries)",
					"infoPostFix": "",
					"thousands": ",",
					"lengthMenu": "Mostrar _MENU_ cuotas",
					"loadingRecords": "Cargando...",
					"processing": "Procesando...",
					"search": "Buscar:",
					"zeroRecords": "No se ha encontrado ningún registro",
					"paginate": {
						"first": "Primera",
						"last": "Última",
						"next": "Siguiente",
						"previous": "Anterior"
					},
				},

				"pageLength": 12
			});
		});
	</script>
	
	<script type="text/javascript">
	
	async function prueba(productId, userId){
		
		const numberComponent = 'numberQuantity' + productId;
		const numberQuantity = document.getElementById(numberComponent)
		
		const response = await fetch('http://localhost:8090/')

		
		
	}
	
	
	</script>


</body>

</html>